diff --git a/mppsolar/__init__.py b/mppsolar/__init__.py
index d77a1c6..135689f 100755
--- a/mppsolar/__init__.py
+++ b/mppsolar/__init__.py
@@ -39,6 +39,11 @@ def main():
         help="overrides the device communications port type",
         default=None,
     )
+    parser.add_argument(
+        "--dev",
+        help="Device identifier for prometheus output labeling for complex installations (default: None)",
+        default=None,
+    )
     if parser.prog == "jkbms":
         parser.add_argument(
             "-P",
@@ -263,6 +268,7 @@ def main():
     mqtt_topic = args.mqtttopic
     push_url = args.pushurl
     prom_output_dir = args.prom_output_dir
+    dev = args.dev
 
     _commands = []
 
@@ -336,6 +342,7 @@ def main():
             push_url = config[section].get("push_url", fallback=push_url)
             prom_output_dir = config[section].get("prom_output_dir", fallback=prom_output_dir)
             mqtt_topic = config[section].get("mqtt_topic", fallback=mqtt_topic)
+            section_dev = config[section].get("dev", fallback=None)
             #
             device_class = get_device_class(_type)
             log.debug(f"device_class {device_class}")
@@ -359,7 +366,7 @@ def main():
             commands = _command.split("#")
 
             for command in commands:
-                _commands.append((device, command, tag, outputs, filter, excl_filter))
+                _commands.append((device, command, tag, outputs, filter, excl_filter, section_dev))
             log.debug(f"Commands from config file {_commands}")
 
             if args.daemon:
@@ -426,14 +433,14 @@ def main():
                 tag = args.tag
             else:
                 tag = command
-            _commands.append((device, command, tag, outputs, filter, excl_filter))
+            _commands.append((device, command, tag, outputs, filter, excl_filter, dev))
         log.debug(f"Commands {_commands}")
 
     while True:
         # Loop through the configured commands
         if not args.daemon:
             log.info(f"Looping {len(_commands)} commands")
-        for _device, _command, _tag, _outputs, filter, excl_filter in _commands:
+        for _device, _command, _tag, _outputs, filter, excl_filter, dev in _commands:
             # for item in mppUtilArray:
             # Tell systemd watchdog we are still alive
             daemon.watchdog()
@@ -465,6 +472,7 @@ def main():
                     filter=filter,
                     excl_filter=excl_filter,
                     keep_case=keep_case,
+                    dev=dev,  # ADD: Pass dev parameter to output
                 )
                 # Tell systemd watchdog we are still alive
         if args.daemon:
diff --git a/mppsolar/outputs/prom.py b/mppsolar/outputs/prom.py
index e5ee6cf..748ca62 100644
--- a/mppsolar/outputs/prom.py
+++ b/mppsolar/outputs/prom.py
@@ -36,7 +36,7 @@ class prom(baseoutput):
             filter = config.get("filter", None)
             excl_filter = config.get("excl_filter", None)
             name = config.get("name", "mpp_solar")
-            dev = config.get("dev", "None")
+            dev = config.get("dev", dev)
         else:
             # get formatting info
             remove_spaces = True
@@ -52,6 +52,10 @@ class prom(baseoutput):
         if name == "unnamed":
             name = "mpp_solar"
 
+
+        if dev is None:
+            dev = "None"
+
         # remove raw response
         data.pop("raw_response", None)
         data.pop("_command_description", None)
